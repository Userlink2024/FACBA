<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finanzas - C&A Cloud Factory</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @keyframes slide-in { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes slide-out { from { transform: translateX(0); opacity: 1; } to { transform: translateX(100%); opacity: 0; } }
        .animate-slide-in { animation: slide-in 0.3s ease-out; }
        .animate-slide-out { animation: slide-out 0.3s ease-out; }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-slate-900">
    
    <!-- Navbar -->
    <nav class="bg-gray-800/90 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl flex items-center justify-center">
                        <i class="fas fa-shoe-prints text-white"></i>
                    </div>
                    <span class="text-white font-bold text-lg hidden sm:block">C&A Cloud Factory</span>
                </div>
                <div id="navMenu" class="hidden md:flex items-center gap-2"></div>
                <div class="flex items-center gap-4">
                    <div class="text-right hidden sm:block">
                        <p id="userName" class="text-white text-sm font-medium">-</p>
                        <p id="userRole" class="text-gray-400 text-xs">-</p>
                    </div>
                    <button id="logoutBtn" class="p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Header -->
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8">
            <div>
                <h1 class="text-3xl font-bold text-white">
                    <i class="fas fa-dollar-sign mr-3 text-emerald-500"></i>Finanzas
                </h1>
                <p class="text-gray-400 mt-2">rdenes, tarifas, inventario y n贸mina</p>
            </div>
        </div>

        <!-- Stats -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-6">
                <div class="w-12 h-12 bg-emerald-600/20 rounded-xl flex items-center justify-center mb-4">
                    <i class="fas fa-file-invoice-dollar text-emerald-500 text-xl"></i>
                </div>
                <p id="totalOrders" class="text-3xl font-bold text-white">0</p>
                <p class="text-gray-400 text-sm">rdenes Activas</p>
            </div>
            <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-6">
                <div class="w-12 h-12 bg-blue-600/20 rounded-xl flex items-center justify-center mb-4">
                    <i class="fas fa-shoe-prints text-blue-500 text-xl"></i>
                </div>
                <p id="totalPares" class="text-3xl font-bold text-white">0</p>
                <p class="text-gray-400 text-sm">Pares Esta Semana</p>
            </div>
            <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-6">
                <div class="w-12 h-12 bg-amber-600/20 rounded-xl flex items-center justify-center mb-4">
                    <i class="fas fa-money-bill-wave text-amber-500 text-xl"></i>
                </div>
                <p id="totalNomina" class="text-3xl font-bold text-white">$0</p>
                <p class="text-gray-400 text-sm">N贸mina Semana</p>
            </div>
            <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-6">
                <div class="w-12 h-12 bg-purple-600/20 rounded-xl flex items-center justify-center mb-4">
                    <i class="fas fa-boxes text-purple-500 text-xl"></i>
                </div>
                <p id="inventoryAlerts" class="text-3xl font-bold text-white">0</p>
                <p class="text-gray-400 text-sm">Alertas Inventario</p>
            </div>
        </div>

        <!-- Tabs -->
        <div class="flex gap-2 mb-6 border-b border-gray-700 pb-2 overflow-x-auto">
            <button class="tab-btn px-4 py-2 text-white bg-emerald-600 rounded-lg transition" data-tab="orders">
                <i class="fas fa-clipboard-list mr-2"></i>rdenes
            </button>
            <button class="tab-btn px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition" data-tab="rates">
                <i class="fas fa-tags mr-2"></i>Tarifas
            </button>
            <button class="tab-btn px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition" data-tab="inventory">
                <i class="fas fa-boxes mr-2"></i>Inventario
            </button>
            <button class="tab-btn px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition" data-tab="payroll">
                <i class="fas fa-calculator mr-2"></i>N贸mina
            </button>
            <button class="tab-btn px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition" data-tab="caja">
                <i class="fas fa-cash-register mr-2"></i>Caja Menor
            </button>
            <button class="tab-btn px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition" data-tab="pedidosCliente">
                <i class="fas fa-truck-loading mr-2"></i>Pedidos Clientes
                <span id="pedidosClienteBadge" class="ml-1 px-1.5 py-0.5 bg-red-500 text-white text-xs rounded-full hidden">0</span>
            </button>
            <button class="tab-btn px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition" data-tab="clientes">
                <i class="fas fa-user-tie mr-2"></i>Clientes
            </button>
            <div class="flex-1"></div>
            <button id="exportPdfBtn" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition flex items-center gap-2">
                <i class="fas fa-file-pdf"></i><span class="hidden sm:inline">Exportar PDF</span>
            </button>
        </div>

        <!-- Orders Tab -->
        <div id="ordersTab" class="tab-content">
            <div class="bg-gray-800/80 rounded-xl border border-gray-700 overflow-hidden">
                <div class="p-4 border-b border-gray-700 flex flex-col sm:flex-row gap-4">
                    <div class="flex-1 relative">
                        <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-500"></i>
                        <input type="text" id="searchOrders" placeholder="Buscar orden..." class="w-full pl-12 pr-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                    </div>
                    <select id="filterOrderStatus" class="px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none">
                        <option value="all">Todos</option>
                        <option value="activa">Activas</option>
                        <option value="completada">Completadas</option>
                    </select>
                    <button id="newOrderBtn" class="px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-xl transition flex items-center gap-2">
                        <i class="fas fa-plus"></i>
                        <span>Nueva Orden</span>
                    </button>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-700/50">
                            <tr>
                                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-400 uppercase">Cliente</th>
                                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-400 uppercase">Modelo</th>
                                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-400 uppercase">Progreso</th>
                                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-400 uppercase">Estado</th>
                                <th class="px-6 py-4 text-center text-xs font-semibold text-gray-400 uppercase">Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody" class="divide-y divide-gray-700">
                            <tr><td colspan="5" class="px-6 py-8 text-center text-gray-500">Cargando...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Rates Tab -->
        <div id="ratesTab" class="tab-content hidden">
            <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-6">
                <h3 class="text-lg font-semibold text-white mb-4"><i class="fas fa-tags mr-2 text-amber-500"></i>Tarifas por Operario</h3>
                <div id="ratesList" class="space-y-3"></div>
            </div>
        </div>

        <!-- Inventory Tab -->
        <div id="inventoryTab" class="tab-content hidden">
            <!-- Sub-tabs for inventory types -->
            <div class="flex gap-2 mb-4">
                <button class="inv-sub-tab px-4 py-2 bg-emerald-600 text-white rounded-lg transition" data-inv="fabrica">
                    <i class="fas fa-industry mr-2"></i>Inventario F谩brica
                </button>
                <button class="inv-sub-tab px-4 py-2 text-gray-400 hover:bg-gray-700 rounded-lg transition" data-inv="clientes">
                    <i class="fas fa-users mr-2"></i>Materiales Clientes
                </button>
            </div>

            <!-- Factory Inventory -->
            <div id="invFabricaContent" class="inv-content">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-6">
                        <h3 class="text-lg font-semibold text-white mb-4"><i class="fas fa-plus-circle mr-2 text-green-500"></i>Agregar/Actualizar Insumo</h3>
                        <div class="space-y-4">
                            <input type="text" id="insumoNombre" placeholder="Nombre del insumo" class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500">
                            <div class="grid grid-cols-2 gap-4">
                                <input type="number" id="insumoCantidad" placeholder="Cantidad" min="0" class="px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none">
                                <input type="text" id="insumoUnidad" placeholder="Unidad (kg, lt, m)" class="px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none">
                            </div>
                            <input type="number" id="insumoMinimo" placeholder="Stock m铆nimo" min="0" class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none">
                            <input type="number" id="insumoConsumo" placeholder="Consumo por par" step="0.01" min="0" class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none">
                            <button id="saveInsumoBtn" class="w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-xl transition"><i class="fas fa-save mr-2"></i>Guardar</button>
                        </div>
                    </div>
                    <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-6">
                        <h3 class="text-lg font-semibold text-white mb-4"><i class="fas fa-warehouse mr-2 text-purple-500"></i>Inventario F谩brica</h3>
                        <div id="inventoryList" class="space-y-3 max-h-96 overflow-y-auto"></div>
                    </div>
                </div>
            </div>

            <!-- Client Materials Inventory -->
            <div id="invClientesContent" class="inv-content hidden">
                <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold text-white">
                            <i class="fas fa-cubes mr-2 text-blue-500"></i>Materiales por Cliente/Pedido
                        </h3>
                        <select id="filterClienteMaterial" class="px-4 py-2 bg-gray-900/50 border border-gray-600 rounded-xl text-white text-sm focus:outline-none">
                            <option value="todos">Todos los clientes</option>
                        </select>
                    </div>
                    <div id="clientInventoryList" class="space-y-4 max-h-[500px] overflow-y-auto">
                        <p class="text-gray-500 text-center py-8">Sin materiales de clientes registrados</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Payroll Tab -->
        <div id="payrollTab" class="tab-content hidden">
            <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-6 mb-6">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6">
                    <h3 class="text-lg font-semibold text-white"><i class="fas fa-calculator mr-2 text-blue-500"></i>C谩lculo de N贸mina Semanal</h3>
                    <button id="closeWeekBtn" class="px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-xl transition"><i class="fas fa-lock mr-2"></i>Cerrar Semana</button>
                </div>
                <div id="payrollList" class="space-y-3"></div>
                <div class="mt-6 pt-6 border-t border-gray-700 flex justify-between items-center">
                    <span class="text-xl font-bold text-white">Total N贸mina:</span>
                    <span id="payrollTotal" class="text-3xl font-bold text-emerald-400">$0</span>
                </div>
            </div>
        </div>

        <!-- Caja Menor Tab -->
        <div id="cajaTab" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Formulario de registro -->
                <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-6">
                    <h3 class="text-lg font-semibold text-white mb-4">
                        <i class="fas fa-plus-circle mr-2 text-emerald-500"></i>Registrar Movimiento
                    </h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Tipo</label>
                            <select id="cajaMovTipo" class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500">
                                <option value="ingreso"> Ingreso</option>
                                <option value="egreso"> Egreso</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Concepto</label>
                            <input type="text" id="cajaMovConcepto" placeholder="Descripci贸n del movimiento" class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Monto ($)</label>
                            <input type="number" id="cajaMovMonto" placeholder="0" min="0" class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                        </div>
                        <button id="saveCajaMovBtn" class="w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-xl transition">
                            <i class="fas fa-save mr-2"></i>Registrar
                        </button>
                    </div>
                </div>

                <!-- Saldo y movimientos -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- Saldo actual -->
                    <div class="bg-gradient-to-r from-emerald-900/50 to-blue-900/50 rounded-xl border border-gray-700 p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-400 text-sm">Saldo Actual Caja Menor</p>
                                <p id="saldoCajaMenor" class="text-3xl font-bold text-emerald-400">$0</p>
                            </div>
                            <div class="w-16 h-16 bg-emerald-600/20 rounded-2xl flex items-center justify-center">
                                <i class="fas fa-wallet text-3xl text-emerald-500"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Lista de movimientos -->
                    <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-6">
                        <h3 class="text-lg font-semibold text-white mb-4">
                            <i class="fas fa-list mr-2 text-blue-500"></i>ltimos Movimientos
                        </h3>
                        <div id="cajaMenorList" class="space-y-3 max-h-96 overflow-y-auto">
                            <p class="text-gray-500 text-center py-4">Cargando...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Clientes Tab -->
        <div id="clientesTab" class="tab-content hidden">
            <div class="bg-gray-800/80 rounded-xl border border-gray-700 overflow-hidden">
                <div class="p-4 border-b border-gray-700 flex flex-col sm:flex-row gap-4">
                    <div class="flex-1 relative">
                        <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-500"></i>
                        <input type="text" id="searchClientes" placeholder="Buscar cliente..." class="w-full pl-12 pr-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <button id="newClienteBtn" class="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition flex items-center gap-2">
                        <i class="fas fa-plus"></i>
                        <span>Nuevo Cliente</span>
                    </button>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-900/50">
                            <tr>
                                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-400 uppercase">C贸digo</th>
                                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-400 uppercase">Cliente</th>
                                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-400 uppercase">Contacto</th>
                                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-400 uppercase">Registro</th>
                                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-400 uppercase">Estado</th>
                                <th class="px-6 py-4 text-center text-xs font-semibold text-gray-400 uppercase">Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="clientesTableBody" class="divide-y divide-gray-700">
                            <tr><td colspan="6" class="px-6 py-8 text-center text-gray-500">Cargando clientes...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Pedidos Cliente Tab -->
        <div id="pedidosClienteTab" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Stats -->
                <div class="lg:col-span-3 grid grid-cols-1 sm:grid-cols-4 gap-4">
                    <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-4">
                        <p class="text-gray-400 text-sm">Pedidos Pendientes</p>
                        <p id="pedidosPendientesCount" class="text-2xl font-bold text-amber-400">0</p>
                    </div>
                    <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-4">
                        <p class="text-gray-400 text-sm">Materiales por Recibir</p>
                        <p id="materialesPorRecibir" class="text-2xl font-bold text-blue-400">0</p>
                    </div>
                    <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-4">
                        <p class="text-gray-400 text-sm">En Producci贸n</p>
                        <p id="pedidosEnProduccion" class="text-2xl font-bold text-purple-400">0</p>
                    </div>
                    <div class="bg-gray-800/80 rounded-xl border border-gray-700 p-4">
                        <p class="text-gray-400 text-sm">Completados Hoy</p>
                        <p id="pedidosCompletadosHoy" class="text-2xl font-bold text-green-400">0</p>
                    </div>
                </div>

                <!-- Pedidos List -->
                <div class="lg:col-span-3 bg-gray-800/80 rounded-xl border border-gray-700 p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold text-white">
                            <i class="fas fa-clipboard-list mr-2 text-blue-500"></i>Pedidos de Clientes
                        </h3>
                        <select id="filterPedidoEstado" class="px-4 py-2 bg-gray-900/50 border border-gray-600 rounded-xl text-white text-sm focus:outline-none">
                            <option value="todos">Todos los estados</option>
                            <option value="pendiente">Pendientes</option>
                            <option value="materiales_recibidos">Materiales Recibidos</option>
                            <option value="en_produccion">En Producci贸n</option>
                            <option value="completado">Completados</option>
                        </select>
                    </div>
                    <div id="pedidosClienteList" class="space-y-4 max-h-[600px] overflow-y-auto">
                        <p class="text-gray-500 text-center py-8">Cargando pedidos de clientes...</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Cliente Modal -->
    <div id="clienteModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-gray-800 rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border border-gray-700">
            <div class="flex items-center justify-between mb-6">
                <h3 id="clienteModalTitle" class="text-xl font-bold text-white">Nuevo Cliente</h3>
                <button id="closeClienteModal" class="text-gray-400 hover:text-white"><i class="fas fa-times text-xl"></i></button>
            </div>
            <form id="clienteForm" class="space-y-4">
                <input type="hidden" id="clienteId">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">C贸digo Cliente</label>
                    <input type="text" id="clienteCodigo" required class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="CLI-001">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Nombre / Empresa</label>
                    <input type="text" id="clienteNombre" required class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Nombre del cliente">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Tel茅fono</label>
                    <input type="tel" id="clienteTelefono" class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="300 123 4567">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Correo Electr贸nico</label>
                    <input type="email" id="clienteEmail" class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="correo@ejemplo.com">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Contrase帽a Portal</label>
                    <input type="text" id="clientePassword" class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Contrase帽a para acceso al portal">
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Color Identificador</label>
                        <input type="color" id="clienteColor" value="#3B82F6" class="w-full h-12 bg-gray-900/50 border border-gray-600 rounded-xl cursor-pointer">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Estado</label>
                        <select id="clienteEstado" class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="true">Activo</option>
                            <option value="false">Inactivo</option>
                        </select>
                    </div>
                </div>
                <div class="flex gap-3 pt-4">
                    <button type="button" id="cancelClienteModal" class="flex-1 py-3 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-xl transition">Cancelar</button>
                    <button type="submit" class="flex-1 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition"><i class="fas fa-save mr-2"></i>Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Order Modal -->
    <div id="orderModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-gray-800 rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border border-gray-700">
            <div class="flex items-center justify-between mb-6">
                <h3 id="orderModalTitle" class="text-xl font-bold text-white">Nueva Orden</h3>
                <button id="closeOrderModal" class="text-gray-400 hover:text-white"><i class="fas fa-times text-xl"></i></button>
            </div>
            <form id="orderForm" class="space-y-4">
                <input type="hidden" id="orderId">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Cliente</label>
                    <input type="text" id="orderCliente" required class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500" placeholder="Nombre del cliente">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Modelo</label>
                    <input type="text" id="orderModelo" required class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500" placeholder="Referencia del modelo">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Cantidad Total (Pares)</label>
                    <input type="number" id="orderCantidad" required min="1" class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500" placeholder="100">
                </div>
                <div class="flex gap-3 pt-4">
                    <button type="button" id="cancelOrderModal" class="flex-1 py-3 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-xl transition">Cancelar</button>
                    <button type="submit" class="flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-xl transition"><i class="fas fa-save mr-2"></i>Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <footer class="border-t border-gray-800 mt-12 py-6">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-gray-600 text-sm">C&A Manufacturas 漏 <span id="currentYear"></span> - Bucaramanga, Colombia</p>
        </div>
    </footer>

    <script>
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>

    <script type="module" src="js/finanzas.js"></script>
</body>
</html>
